
        <!DOCTYPE html>
        <html lang="ru" dir="ltr">
            <head>
                <meta charset="utf-8">
                <base href="../../../" />
                
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>Модельные и вложенные сериализаторы | Разработка REST API с помощью Django REST Framework</title>
                <style type="text/css">
                    body {
                        height: 100vh;
                    }
                </style>
                <link type="text/css" rel="stylesheet" href="../_bundle/vendor.css" />
<link type="text/css" rel="stylesheet" href="../_bundle/app.css" />
                
                
            </head>
            <body class="g-root g-root_theme_light">
                <div id="root"></div>
                <script type="application/javascript">
                   window.STATIC_CONTENT = false
                   window.__DATA__ = {"data":{"leading":false,"toc":{"title":"Разработка REST API с помощью Django REST Framework","href":"index.html","navigation":{"logo":{"url":"/","text":"IDE EDU"}},"items":[{"name":"Введение в курс","href":"course.html","id":"Введение в курс-0-0.900653263019163"},{"name":"Основы ORM в Django","expanded":true,"items":[{"name":"Введение в модуль","href":"Основы ORM в Django/section.html","id":"Введение в модуль-0-0.7687397734568511"},{"name":"ORM модели","items":[{"name":"Введение в модели Django","href":"Основы ORM в Django/ORM модели/Введение в модели Django/task.html","id":"Введение в модели Django-0-0.13676520360266342"},{"name":"Работа с миграциями данных","href":"Основы ORM в Django/ORM модели/Работа с миграциями данных/task.html","id":"Работа с миграциями данных-1-0.20046874955141192"},{"name":"Хорошие практики по работе с миграциями","href":"Основы ORM в Django/ORM модели/Хорошие практики по работе с миграциями/task.html","id":"Хорошие практики по работе с миграциями-2-0.8966593695106373"},{"name":"Основные типы полей и их особенности","href":"Основы ORM в Django/ORM модели/Основные типы полей и их особенности/task.html","id":"Основные типы полей и их особенности-3-0.6834711396022739"},{"name":"Добавление данных через фикстуры","href":"Основы ORM в Django/ORM модели/Добавление данных через фикстуры/task.html","id":"Добавление данных через фикстуры-4-0.8007988363924845"}],"id":"ORM модели-1-0.8432345047221053"},{"name":"CRUD операции","items":[{"name":"Чтение данных","href":"Основы ORM в Django/CRUD операции/Чтение данных/task.html","id":"Чтение данных-0-0.7354323713583109"},{"name":"Создание и обновление объектов","href":"Основы ORM в Django/CRUD операции/Создание и обновление объектов/task.html","id":"Создание и обновление объектов-1-0.02160423470842554"},{"name":"Удаление объектов","href":"Основы ORM в Django/CRUD операции/Удаление объектов/task.html","id":"Удаление объектов-2-0.7448576723330953"}],"id":"CRUD операции-2-0.36162237054912394"},{"name":"Работа с админкой","items":[{"name":"Основы работы с админкой","href":"Основы ORM в Django/Работа с админкой/Основы работы с админкой/task.html","id":"Основы работы с админкой-0-0.7944648788751871"},{"name":"Настройка отображения экземпляров моделей в админ панели","href":"Основы ORM в Django/Работа с админкой/Настройка отображения экземпляров моделей в админ панели/task.html","id":"Настройка отображения экземпляров моделей в админ панели-1-0.9787293147579215"},{"name":"Основы работы с админкой","href":"Основы ORM в Django/Работа с админкой/Дополнительные настройки админки/task.html","id":"Основы работы с админкой-2-0.12600160468299082"}],"id":"Работа с админкой-3-0.8194908325224115"}],"id":"Основы ORM в Django-1-0.8248125412994667"},{"name":"Расширенные возможности ORM в Django","items":[{"name":"Введение в модуль","href":"Расширенные возможности ORM в Django/section.html","id":"Введение в модуль-0-0.9236192958152871"},{"name":"Отладка запросов","items":[{"name":"Установка и настройка Debug Toolbar","href":"Расширенные возможности ORM в Django/Отладка запросов/Установка и настройка Debug Toolbar/task.html","id":"Установка и настройка Debug Toolbar-0-0.7581592045452776"},{"name":"Практические примеры использования debugsqlshell","href":"Расширенные возможности ORM в Django/Отладка запросов/Практические примеры использования debugsqlshell/task.html","id":"Практические примеры использования debugsqlshell-1-0.41377973239941923"}],"id":"Отладка запросов-1-0.9666849650879505"},{"name":"Отношения между моделями","items":[{"name":"Отношение многие к одному","href":"Расширенные возможности ORM в Django/Отношения между моделями/Отношение многие к одному/task.html","id":"Отношение многие к одному-0-0.17726491191207572"},{"name":"Отношение один ко многим","href":"Расширенные возможности ORM в Django/Отношения между моделями/Отношение один ко многим/task.html","id":"Отношение один ко многим-1-0.806111975411844"},{"name":"Отношение многие ко многим","href":"Расширенные возможности ORM в Django/Отношения между моделями/Отношение многие ко многим/task.html","id":"Отношение многие ко многим-2-0.2505526110037968"}],"id":"Отношения между моделями-2-0.08706153056730925"},{"name":"Фильтрация и запросы с помощью Q-объектов","items":[{"name":"Фильтрация по полям модели и связанным моделям","href":"Расширенные возможности ORM в Django/Фильтрация и запросы с помощью Q-объектов/Фильтрация по полям модели и связанным моделям/task.html","id":"Фильтрация по полям модели и связанным моделям-0-0.191136925756749"},{"name":"Использование Q-объектов для сложных запросов","href":"Расширенные возможности ORM в Django/Фильтрация и запросы с помощью Q-объектов/Использование Q-объектов для сложных запросов/task.html","id":"Использование Q-объектов для сложных запросов-1-0.6659182136423558"},{"name":"Группировка данных и агрегация","href":"Расширенные возможности ORM в Django/Фильтрация и запросы с помощью Q-объектов/Группировка данных и агрегация/task.html","id":"Группировка данных и агрегация-2-0.5737710038467989"}],"id":"Фильтрация и запросы с помощью Q-объектов-3-0.8067872746486036"},{"name":"Оптимизация запросов","items":[{"name":"Подводные камни при работе с ORM запросами","href":"Расширенные возможности ORM в Django/Оптимизация запросов/Подводные камни при работе с ORM запросами/task.html","id":"Подводные камни при работе с ORM запросами-0-0.8935302328996815"},{"name":"Выбор полей запроса","href":"Расширенные возможности ORM в Django/Оптимизация запросов/Выбор полей запроса/task.html","id":"Выбор полей запроса-1-0.41468383206721526"},{"name":"Массовое создание и обновление","href":"Расширенные возможности ORM в Django/Оптимизация запросов/Массовое создание и обновление/task.html","id":"Массовое создание и обновление-2-0.19130298422466052"}],"id":"Оптимизация запросов-4-0.32336599101886776"}],"id":"Расширенные возможности ORM в Django-2-0.00838246549140087"},{"name":"Основы разработки REST API","items":[{"name":"Введение в модуль","href":"Основы разработки REST API/section.html","id":"Введение в модуль-0-0.4528874350394321"},{"name":"Введение в REST API","items":[{"name":"Введение в RESTful API","href":"Основы разработки REST API/Введение в REST API/Введение в RESTful API/task.html","id":"Введение в RESTful API-0-0.885080918630683"},{"name":"Endpoint и CRUD операции в REST API","href":"Основы разработки REST API/Введение в REST API/Endpoint и CRUD операции в REST API/task.html","id":"Endpoint и CRUD операции в REST API-1-0.5273005843007748"},{"name":"Введение в Django REST Framework","href":"Основы разработки REST API/Введение в REST API/Введение в Django REST Framework/task.html","id":"Введение в Django REST Framework-2-0.6966726585243619"}],"id":"Введение в REST API-1-0.7871697594137119"},{"name":"Сериализаторы в Django REST Framework","items":[{"name":"Сериализаторы в DRF","href":"Основы разработки REST API/Сериализаторы в Django REST Framework/Сериализаторы в DRF/task.html","id":"Сериализаторы в DRF-0-0.8356057262541572"},{"name":"Модельные и вложенные сериализаторы","href":"Основы разработки REST API/Сериализаторы в Django REST Framework/Модельные и вложенные сериализаторы/task.html","id":"Модельные и вложенные сериализаторы-1-0.9538531990782007"}],"id":"Сериализаторы в Django REST Framework-2-0.7472292209161839"},{"name":"APIView в Django REST Framework","items":[{"name":"Применение статусных кодов в REST API","href":"Основы разработки REST API/APIView в Django REST Framework/Применение статусных кодов в REST API/task.html","id":"Применение статусных кодов в REST API-0-0.3483301964183936"},{"name":"Список объектов и добавление новых объектов","href":"Основы разработки REST API/APIView в Django REST Framework/Список объектов и добавление новых объектов/task.html","id":"Список объектов и добавление новых объектов-1-0.740470536309199"},{"name":"Детальная работа с объектом","href":"Основы разработки REST API/APIView в Django REST Framework/Детальная работа с объектом/task.html","id":"Детальная работа с объектом-2-0.012834299316135223"}],"id":"APIView в Django REST Framework-3-0.5086108394861364"}],"id":"Основы разработки REST API-3-0.9868011687009968"},{"name":"Тестирование и типовые API","items":[{"name":"Введение в модуль","href":"Тестирование и типовые API/section.html","id":"Введение в модуль-0-0.8921161120079419"},{"name":"Введение в тестирование","items":[{"name":"Test-Driven Development (TDD)","href":"Тестирование и типовые API/Введение в тестирование/Test-Driven Development (TDD)/task.html","id":"Test-Driven Development (TDD)-0-0.9102943466472864"},{"name":"Написание, выполнение и завершение тестов","href":"Тестирование и типовые API/Введение в тестирование/Написание, выполнение и завершение тестов/task.html","id":"Написание, выполнение и завершение тестов-1-0.18254765865262756"}],"id":"Введение в тестирование-1-0.3367832531798576"},{"name":"Тестирование в Django","items":[{"name":"Тестирование в Django","href":"Тестирование и типовые API/Тестирование в Django/Тестирование в Django/task.html","id":"Тестирование в Django-0-0.6898149806759806"}],"id":"Тестирование в Django-2-0.879365959802586"},{"name":"Типовые (generic) API","items":[{"name":"GenericAPIView","href":"Тестирование и типовые API/Типовые (generic) API/GenericAPIView/task.html","id":"GenericAPIView-0-0.7600603535535702"},{"name":"OpenAPI документация","href":"Тестирование и типовые API/Типовые (generic) API/OpenAPI документация/task.html","id":"OpenAPI документация-1-0.1720178565256265"},{"name":"Фильтрация, поиск и пагинация","href":"Тестирование и типовые API/Типовые (generic) API/Фильтрация, поиск и пагинация/task.html","id":"Фильтрация, поиск и пагинация-2-0.03969358126619604"}],"id":"Типовые (generic) API-3-0.4701820385904507"}],"id":"Тестирование и типовые API-4-0.645566267881704"}],"base":"django-web-api","deepBase":1},"meta":{"metadata":[],"style":[],"script":[]},"assets":[],"headings":[{"title":"Цель урока","href":"Основы%20разработки%20REST%20API/Сериализаторы%20в%20Django%20REST%20Framework/Модельные%20и%20вложенные%20сериализаторы/task.html#cel-uroka","level":2},{"title":"Сериализаторы на основе моделей Django","href":"Основы%20разработки%20REST%20API/Сериализаторы%20в%20Django%20REST%20Framework/Модельные%20и%20вложенные%20сериализаторы/task.html#serializatory-na-osnove-modelej-django","level":2,"items":[{"title":"Процесс создания модельного сериализатора","href":"Основы%20разработки%20REST%20API/Сериализаторы%20в%20Django%20REST%20Framework/Модельные%20и%20вложенные%20сериализаторы/task.html#process-sozdaniya-modelnogo-serializatora","level":3}]},{"title":"Вложенные сериализаторы в DRF","href":"Основы%20разработки%20REST%20API/Сериализаторы%20в%20Django%20REST%20Framework/Модельные%20и%20вложенные%20сериализаторы/task.html#vlozhennye-serializatory-v-drf","level":2,"items":[{"title":"Реализация вложенных сериализаторов","href":"Основы%20разработки%20REST%20API/Сериализаторы%20в%20Django%20REST%20Framework/Модельные%20и%20вложенные%20сериализаторы/task.html#realizaciya-vlozhennyh-serializatorov","level":3},{"title":"Сериализация связанных объектов","href":"Основы%20разработки%20REST%20API/Сериализаторы%20в%20Django%20REST%20Framework/Модельные%20и%20вложенные%20сериализаторы/task.html#serializaciya-svyazannyh-obuektov","level":3}]}],"title":"Модельные и вложенные сериализаторы","includes":[],"html":"<h2 id=\"cel-uroka\"><a href=\"Основы%20разработки%20REST%20API/Сериализаторы%20в%20Django%20REST%20Framework/Модельные%20и%20вложенные%20сериализаторы/task.html#cel-uroka\" class=\"yfm-anchor\" aria-hidden=\"true\"><span class=\"visually-hidden\">Цель урока</span></a>Цель урока</h2>\n<p>В этом уроке вы научитесь создавать сериализаторы на основе моделей Django для упрощения процесса сериализации данных. Вы также познакомитесь с вложенными сериализаторами и узнаете, как они могут быть использованы для обработки данных связанных моделей в Django REST Framework (DRF). Этот урок поможет вам лучше понять, как управлять сложными структурами данных и представлять их в RESTful API.</p>\n<h2 id=\"serializatory-na-osnove-modelej-django\"><a href=\"Основы%20разработки%20REST%20API/Сериализаторы%20в%20Django%20REST%20Framework/Модельные%20и%20вложенные%20сериализаторы/task.html#serializatory-na-osnove-modelej-django\" class=\"yfm-anchor\" aria-hidden=\"true\"><span class=\"visually-hidden\">Сериализаторы на основе моделей Django</span></a>Сериализаторы на основе моделей Django</h2>\n<p>Сериализаторы на основе моделей (<code>ModelSerializer</code>) в Django REST Framework представляют собой инструмент, который значительно упрощает процесс определения сериализаторов на основе моделей Django. Использование такого подхода позволяет автоматически создавать поля и методы для сериализатора на основе информации о полях модели, что сокращает количество кода и упрощает его поддержку.</p>\n<p>Преимущества использования <code>ModelSerializer</code>:</p>\n<ul>\n<li><strong>Автоматическое создание полей</strong>: <code>ModelSerializer</code> автоматически генерирует поля сериализатора на основе полей модели, что упрощает начальную настройку.</li>\n<li><strong>Валидация данных</strong>: Поля, созданные на основе модели, автоматически используют правильные валидаторы в соответствии с ограничениями модели.</li>\n<li><strong>Сохранение объектов</strong>: <code>ModelSerializer</code> включает реализации методов <code>create()</code> и <code>update()</code>, что позволяет легко сохранять и обновлять объекты модели через сериализатор.</li>\n</ul>\n<h3 id=\"process-sozdaniya-modelnogo-serializatora\"><a href=\"Основы%20разработки%20REST%20API/Сериализаторы%20в%20Django%20REST%20Framework/Модельные%20и%20вложенные%20сериализаторы/task.html#process-sozdaniya-modelnogo-serializatora\" class=\"yfm-anchor\" aria-hidden=\"true\"><span class=\"visually-hidden\">Процесс создания модельного сериализатора</span></a>Процесс создания модельного сериализатора</h3>\n<p>Для создания сериализатора на основе модели Django, необходимо унаследовать класс сериализатора от <code>ModelSerializer</code> и указать модель, а также поля, которые должны быть включены в сериализацию или исключены из нее:</p>\n<ol>\n<li><strong>Определение класса сериализатора</strong>: Наследование класса от <code>serializers.ModelSerializer</code></li>\n<li><strong>Указание модели</strong>: В мета-классе сериализатора необходимо указать модель, для которой создается сериализатор.</li>\n<li><strong>Выбор полей</strong>: Также в мета-классе следует указать список полей. Это можно сделать тремя способами:\n<ul>\n<li><code>fields = \"__all__\"</code>: Используется для включения всех полей модели в сериализатор. Этот подход позволяет автоматически сериализовать каждое поле модели без необходимости их перечисления.</li>\n<li><code>fields = ['field_1', 'field_2', ...]</code>: Определяет конкретный набор полей модели, которые должны быть включены в сериализацию. Этот подход позволяет явно указать, какие поля модели должны участвовать в сериализации.</li>\n<li><code>exclude = ['field_1', 'field_2', ...]</code>: Позволяет исключить определенные поля модели из сериализации. Этот способ удобен, когда нужно сериализовать большую часть полей модели, за исключением нескольких.</li>\n</ul>\n</li>\n</ol>\n<p>Пример:</p>\n\n    <div class=\"yfm-clipboard\">\n    <pre><code class=\"hljs python\"><span class=\"hljs-keyword\">from</span> rest_framework <span class=\"hljs-keyword\">import</span> serializers\n\n<span class=\"hljs-keyword\">from</span> books.models <span class=\"hljs-keyword\">import</span> Book\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">BookSerializer</span>(serializers.ModelSerializer):\n    <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Meta</span>:\n        model = Book\n        fields = <span class=\"hljs-string\">\"__all__\"</span>\n</code></pre>\n\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-button\" data-animation=\"75\">\n        <path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path>\n        <path stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\">\n            <animate id=\"visibileAnimation-75\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin></animate>\n            <animate id=\"hideAnimation-75\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-75.end+1\" fill=\"freeze\"></animate>\n        </path>\n    </svg>\n    </div>\n<p>Модель <code>Book</code> имеет следующий вид:</p>\n\n    <div class=\"yfm-clipboard\">\n    <pre><code class=\"hljs python\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Book</span>(models.Model):\n    <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">TypeChoices</span>(models.TextChoices):\n        HARDCOVER = <span class=\"hljs-string\">\"HC\"</span>, <span class=\"hljs-string\">\"Твёрдый переплёт\"</span>\n        PAPERCOVER = <span class=\"hljs-string\">\"PB\"</span>, <span class=\"hljs-string\">\"Мягкий переплёт\"</span>\n        EBOOK = <span class=\"hljs-string\">\"EB\"</span>, <span class=\"hljs-string\">\"Электроная книга\"</span>\n\n    title = models.CharField(max_length=<span class=\"hljs-number\">100</span>)\n    year = models.PositiveSmallIntegerField()\n    description = models.TextField(default=<span class=\"hljs-string\">\"\"</span>)\n    book_type = models.CharField(max_length=<span class=\"hljs-number\">2</span>, choices=TypeChoices.choices, default=TypeChoices.PAPERCOVER)\n    created_at = models.DateTimeField(auto_now_add=<span class=\"hljs-literal\">True</span>)\n    updated_at = models.DateTimeField(auto_now=<span class=\"hljs-literal\">True</span>)\n    slug = models.SlugField(max_length=<span class=\"hljs-number\">100</span>, unique=<span class=\"hljs-literal\">True</span>)\n    rating = models.FloatField(default=<span class=\"hljs-number\">0</span>)\n    category = models.ForeignKey(\n        Category,\n        on_delete=models.SET_NULL,\n        null=<span class=\"hljs-literal\">True</span>,\n        related_name=<span class=\"hljs-string\">\"books\"</span>,\n    )\n    tags = models.ManyToManyField(<span class=\"hljs-string\">\"books.Tag\"</span>, related_name=<span class=\"hljs-string\">\"books\"</span>)\n</code></pre>\n\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-button\" data-animation=\"79\">\n        <path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path>\n        <path stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\">\n            <animate id=\"visibileAnimation-79\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin></animate>\n            <animate id=\"hideAnimation-79\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-79.end+1\" fill=\"freeze\"></animate>\n        </path>\n    </svg>\n    </div>\n<p>Тогда сериализатор <code>BookSerializer</code>, автоматически cгенерированный на основе модели <code>Book</code>, содержит следующие поля:</p>\n\n    <div class=\"yfm-clipboard\">\n    <pre><code class=\"hljs python\">BookSerializer():\n    <span class=\"hljs-built_in\">id</span> = IntegerField(label=<span class=\"hljs-string\">'ID'</span>, read_only=<span class=\"hljs-literal\">True</span>)\n    title = CharField(max_length=<span class=\"hljs-number\">100</span>)\n    year = IntegerField()\n    description = CharField(required=<span class=\"hljs-literal\">False</span>, style={<span class=\"hljs-string\">'base_template'</span>: <span class=\"hljs-string\">'textarea.html'</span>})\n    book_type = ChoiceField(choices=[(<span class=\"hljs-string\">'HC'</span>, <span class=\"hljs-string\">'Твёрдый переплёт'</span>), (<span class=\"hljs-string\">'PB'</span>, <span class=\"hljs-string\">'Мягкий переплёт'</span>), (<span class=\"hljs-string\">'EB'</span>, <span class=\"hljs-string\">'Электроная книга'</span>)], required=<span class=\"hljs-literal\">False</span>)\n    created_at = DateTimeField(read_only=<span class=\"hljs-literal\">True</span>)\n    updated_at = DateTimeField(read_only=<span class=\"hljs-literal\">True</span>)\n    slug = SlugField(allow_unicode=<span class=\"hljs-literal\">False</span>, max_length=<span class=\"hljs-number\">100</span>, validators=[&lt;UniqueValidator(queryset=Book.objects.<span class=\"hljs-built_in\">all</span>())&gt;])\n    rating = FloatField(required=<span class=\"hljs-literal\">False</span>)\n    category = PrimaryKeyRelatedField(allow_null=<span class=\"hljs-literal\">True</span>, queryset=Category.objects.<span class=\"hljs-built_in\">all</span>(), required=<span class=\"hljs-literal\">False</span>)\n    tags = PrimaryKeyRelatedField(allow_empty=<span class=\"hljs-literal\">False</span>, many=<span class=\"hljs-literal\">True</span>, queryset=Tag.objects.<span class=\"hljs-built_in\">all</span>())\n</code></pre>\n\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-button\" data-animation=\"83\">\n        <path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path>\n        <path stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\">\n            <animate id=\"visibileAnimation-83\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin></animate>\n            <animate id=\"hideAnimation-83\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-83.end+1\" fill=\"freeze\"></animate>\n        </path>\n    </svg>\n    </div>\n<p>Разберём некоторые параметры полей:</p>\n<ul>\n<li><code>read_only</code>: Поле доступно только для чтения. Означает, что оно не может быть изменено через API. Применяется, например, к полям <code>id</code>, <code>created_at</code> и <code>updated_at</code>, чтобы предотвратить их модификацию клиентами API.</li>\n<li><code>max_length</code>: Устанавливает максимальную длину для строковых полей, как <code>title</code> и <code>slug</code>. Это ограничение помогает обеспечить соответствие данных, отправляемых через API, ограничениям модели.</li>\n<li><code>required</code>: Определяет, является ли поле обязательным для заполнения при создании или обновлении ресурса через API. Например, поле <code>description</code> может быть необязательным (<code>required=False</code>), позволяя создавать или обновлять объекты без указания описания.</li>\n<li><code>validators</code>: Список валидаторов, применяемых к полю. Валидаторы проверяют корректность данных перед сохранением объекта. Например, для поля <code>slug</code> используется валидатор <code>UniqueValidator</code>, обеспечивающий уникальность значения среди всех объектов <code>Book</code>.</li>\n<li><code>allow_null</code>: Указывает, может ли поле принимать значение <code>null</code>. Применяется к полям, для которых допустимо отсутствие значения, как <code>category</code>.</li>\n</ul>\n<aside>\nℹ️ С полным перечнем параметров можно ознакомиться в официальной [документации](https://www.django-rest-framework.org/api-guide/fields/#core-arguments).\n</aside>\n<h2 id=\"vlozhennye-serializatory-v-drf\"><a href=\"Основы%20разработки%20REST%20API/Сериализаторы%20в%20Django%20REST%20Framework/Модельные%20и%20вложенные%20сериализаторы/task.html#vlozhennye-serializatory-v-drf\" class=\"yfm-anchor\" aria-hidden=\"true\"><span class=\"visually-hidden\">Вложенные сериализаторы в DRF</span></a>Вложенные сериализаторы в DRF</h2>\n<p>Вложенные сериализаторы в Django REST Framework (DRF) обеспечивают управление и представление связанных данных в REST API. Использование вложенности позволяет не только детальнее структурировать ответы API, но и предоставить более полную картину данных, учитывая их взаимосвязи.</p>\n<h3 id=\"realizaciya-vlozhennyh-serializatorov\"><a href=\"Основы%20разработки%20REST%20API/Сериализаторы%20в%20Django%20REST%20Framework/Модельные%20и%20вложенные%20сериализаторы/task.html#realizaciya-vlozhennyh-serializatorov\" class=\"yfm-anchor\" aria-hidden=\"true\"><span class=\"visually-hidden\">Реализация вложенных сериализаторов</span></a>Реализация вложенных сериализаторов</h3>\n<p>Для создания вложенных сериализаторов, сперва нужно определить отдельные сериализаторы для каждой из связанных моделей. Например, если модель <code>Book</code>, связанная с моделью <code>Category</code>, для каждой из этих моделей создаются свои сериализаторы.</p>\n<p>После этого в сериализаторе <code>BookSerializer</code> следует использовать <code>CategorySerializer</code> для сериализации связанных категорий.</p>\n\n    <div class=\"yfm-clipboard\">\n    <pre><code class=\"hljs python\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">CategorySerializer</span>(serializers.ModelSerializer):\n    <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Meta</span>:\n        model = Category\n        fields = [<span class=\"hljs-string\">'name'</span>]\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">BookSerializer</span>(serializers.ModelSerializer):\n    category = CategorySerializer()\n\n    <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Meta</span>:\n        model = Book\n        fields = <span class=\"hljs-string\">\"__all__\"</span>\n</code></pre>\n\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-button\" data-animation=\"131\">\n        <path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path>\n        <path stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\">\n            <animate id=\"visibileAnimation-131\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin></animate>\n            <animate id=\"hideAnimation-131\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-131.end+1\" fill=\"freeze\"></animate>\n        </path>\n    </svg>\n    </div>\n<p>Этот подход позволяет получить JSON, в котором информация об категории представлена вложенно внутри информации о книге.</p>\n<h3 id=\"serializaciya-svyazannyh-obuektov\"><a href=\"Основы%20разработки%20REST%20API/Сериализаторы%20в%20Django%20REST%20Framework/Модельные%20и%20вложенные%20сериализаторы/task.html#serializaciya-svyazannyh-obuektov\" class=\"yfm-anchor\" aria-hidden=\"true\"><span class=\"visually-hidden\">Сериализация связанных объектов</span></a>Сериализация связанных объектов</h3>\n<p>Вложенные сериализаторы в DRF позволяют работать с данными, организованными в связях:</p>\n<ul>\n<li><strong>\"к-одному\":</strong> Для связей \"один-к-одному\" или \"многие-к-одному\" достаточно назначить соответствующему полю экземпляр класса вложенного сериализатора.</li>\n<li><strong>\"ко многим\"</strong>.  Для отношений \"многие-ко-многим\" или \"один-ко-многим\" следует использовать тот же подход либо для полей, указанных в модели в явном виде, или обратных отношений. Но с дополнительным указанием флага <code>many=True</code>, чтобы сериализатор корректно обрабатывал коллекции объектов.</li>\n</ul>\n<aside>\n⚠️ Cтоит учесть, что по умолчанию вложенные сериализаторы являются доступными только для чтения. Это означает, что без дополнительной настройки операции создания и обновления данных через вложенные сериализаторы невозможны. С примера реализации записи с помощью вложенных моделей можно ознакомиться в [документации](https://www.django-rest-framework.org/api-guide/relations/#writable-nested-serializers).\n</aside>\n<p>Предположим, что модель <code>Book</code> связана отношением many-to-many связана с моделью <code>Tag</code>. Чтобы сериализовать данные модели <code>Book</code> вместе с информацией о связанных <code>Tag</code>, необходимо создать два сериализатора: один для <code>Book</code> и один для <code>Tag</code>.</p>\n\n    <div class=\"yfm-clipboard\">\n    <pre><code class=\"hljs python\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">TagSerializer</span>(serializers.ModelSerializer):\n    <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Meta</span>:\n        model = Tag\n        fields = [<span class=\"hljs-string\">'name'</span>]\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">BookSerializer</span>(serializers.ModelSerializer):\n    tags = TagSerializer(many=<span class=\"hljs-literal\">True</span>)\n\n    <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Meta</span>:\n        model = Book\n        fields = [<span class=\"hljs-string\">'title'</span>, <span class=\"hljs-string\">'tags'</span>]\n</code></pre>\n\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-button\" data-animation=\"158\">\n        <path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path>\n        <path stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\">\n            <animate id=\"visibileAnimation-158\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin></animate>\n            <animate id=\"hideAnimation-158\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-158.end+1\" fill=\"freeze\"></animate>\n        </path>\n    </svg>\n    </div>\n"},"router":{"pathname":"Основы разработки REST API/Сериализаторы в Django REST Framework/Модельные и вложенные сериализаторы/task.html"},"lang":"ru","langs":["ru"]};
                </script>
                <script type="application/javascript" src="../_bundle/react.js"></script>
<script type="application/javascript" src="../_bundle/app.js"></script>
<script type="application/javascript" src="../_bundle/vendor.js"></script>
            </body>
        </html>
    