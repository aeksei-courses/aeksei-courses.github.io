
        <!DOCTYPE html>
        <html lang="ru" dir="ltr">
            <head>
                <meta charset="utf-8">
                <base href="../../../" />
                
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>Основы Django</title>
                <style type="text/css">
                    body {
                        height: 100vh;
                    }
                </style>
                <link type="text/css" rel="stylesheet" href="../_bundle/vendor.css" />
<link type="text/css" rel="stylesheet" href="../_bundle/app.css" />
                
                
            </head>
            <body class="g-root g-root_theme_light">
                <div id="root"></div>
                <script type="application/javascript">
                   window.STATIC_CONTENT = false
                   window.__DATA__ = {"data":{"leading":false,"toc":{"title":"Основы Django","href":"index.html","navigation":{"logo":{"url":"./index.html","text":"IDE EDU","target":"_self"}},"items":[{"name":"Введение в курс","href":"course-intro.html","id":"Введение в курс-0-0.4447986155770136"},{"name":"Основы HTTP и HTML","expanded":true,"items":[{"name":"Введение в модуль","href":"Основы HTTP и HTML/section-intro.html","id":"Введение в модуль-0-0.4563568497681352"},{"name":"Язык разметки HTML","items":[{"name":"Структура HTML документа","href":"Основы HTTP и HTML/Язык разметки HTML/Структура HTML документа/task.html","id":"Структура HTML документа-0-0.7741264543298139"},{"name":"Теги и атрибуты","href":"Основы HTTP и HTML/Язык разметки HTML/Теги и атрибуты/task.html","id":"Теги и атрибуты-1-0.5395168949386293"},{"name":"Организация контента и CSS стили","href":"Основы HTTP и HTML/Язык разметки HTML/Организация контента и CSS стили/task.html","id":"Организация контента и CSS стили-2-0.7004700896264211"}],"id":"Язык разметки HTML-1-0.5020742552162374"},{"name":"Основы протокола HTTP","items":[{"name":"Клиент-серверная архитектура","href":"Основы HTTP и HTML/Основы протокола HTTP/Клиент-серверная архитектура/task.html","id":"Клиент-серверная архитектура-0-0.9815950105077429"},{"name":"HTTP запросы и ответы","href":"Основы HTTP и HTML/Основы протокола HTTP/HTTP запросы и ответы/task.html","id":"HTTP запросы и ответы-1-0.4285060342689917"},{"name":"Структура URL","href":"Основы HTTP и HTML/Основы протокола HTTP/Структура URL/task.html","id":"Структура URL-2-0.08451098359652787"}],"id":"Основы протокола HTTP-2-0.41220958429555643"},{"name":"Выполнение HTTP запросов в Python","items":[{"name":"Библиотека requests","href":"Основы HTTP и HTML/Выполнение HTTP запросов в Python/Библиотека requests/task.html","id":"Библиотека requests-0-0.1760940947655023"},{"name":"Взаимодействие с API","href":"Основы HTTP и HTML/Выполнение HTTP запросов в Python/Взаимодействие с API/task.html","id":"Взаимодействие с API-1-0.44026616588842704"},{"name":"Отправка данных в теле запроса","href":"Основы HTTP и HTML/Выполнение HTTP запросов в Python/Отправка данных в теле запроса/task.html","id":"Отправка данных в теле запроса-2-0.21390586131643463"}],"id":"Выполнение HTTP запросов в Python-3-0.9434152955705006"}],"id":"Основы HTTP и HTML-1-0.5840960494231204"},{"name":"Django Шаблонизатор и статические файлы","items":[{"name":"Введение в модуль","href":"Django Шаблонизатор и статические файлы/section-intro.html","id":"Введение в модуль-0-0.7696318046390931"},{"name":"Шаблонизация в Django","items":[{"name":"Шаблоны в модели MVT","href":"Django Шаблонизатор и статические файлы/Шаблонизация в Django/Шаблоны в модели MVT/task.html","id":"Шаблоны в модели MVT-0-0.8080018461991971"},{"name":"Создание шаблонов","href":"Django Шаблонизатор и статические файлы/Шаблонизация в Django/Создание шаблонов/task.html","id":"Создание шаблонов-1-0.6599337660522666"},{"name":"Наследование и включение шаблонов","href":"Django Шаблонизатор и статические файлы/Шаблонизация в Django/Наследование и включение шаблонов/task.html","id":"Наследование и включение шаблонов-2-0.9652171811032189"},{"name":"Условия и циклы в шаблонах","href":"Django Шаблонизатор и статические файлы/Шаблонизация в Django/Условия и циклы в шаблонах/task.html","id":"Условия и циклы в шаблонах-3-0.5790627951869862"}],"id":"Шаблонизация в Django-1-0.7652806267961436"},{"name":"Работа со статическими файлами","items":[{"name":"Организация статических файлов в проекте","href":"Django Шаблонизатор и статические файлы/Работа со статическими файлами/Организация статических файлов в проекте/task.html","id":"Организация статических файлов в проекте-0-0.5015687808699081"},{"name":"Подключение статических файлов","href":"Django Шаблонизатор и статические файлы/Работа со статическими файлами/Подключение статических файлов/task.html","id":"Подключение статических файлов-1-0.17533519525287145"}],"id":"Работа со статическими файлами-2-0.8025572055987147"}],"id":"Django Шаблонизатор и статические файлы-2-0.8306725253342331"},{"name":"Основы Django","items":[{"name":"Введение в модуль","href":"Основы Django/section-intro.html","id":"Введение в модуль-0-0.7350461560702246"},{"name":"Введение в Django","items":[{"name":"Фреймворк Django и его роль в веб-разработке","href":"Основы Django/Введение в Django/Фреймворк Django и его роль в веб-разработке/task.html","id":"Фреймворк Django и его роль в веб-разработке-0-0.1531417775443955"},{"name":"Установка Django и создание проекта","href":"Основы Django/Введение в Django/Установка Django и создание проекта/task.html","id":"Установка Django и создание проекта-1-0.48264204184252235"},{"name":"Структура и настройки Django проекта","href":"Основы Django/Введение в Django/Структура и настройки Django проекта/task.html","id":"Структура и настройки Django проекта-2-0.08906296382857937"}],"id":"Введение в Django-1-0.8355729901839806"},{"name":"Создание первого Django приложения","items":[{"name":"Зачем нужны веб-приложения","href":"Основы Django/Создание первого Django приложения/Зачем нужны веб-приложения/task.html","id":"Зачем нужны веб-приложения-0-0.9477808027937495"},{"name":"Создание первого Django приложения","href":"Основы Django/Создание первого Django приложения/Создание первого Django приложения/task.html","id":"Создание первого Django приложения-1-0.6026784768987976"}],"id":"Создание первого Django приложения-2-0.7818225183988348"},{"name":"Работа с представлениями на основе функций","items":[{"name":"Создание простых представлений","href":"Основы Django/Работа с представлениями на основе функций/Создание простых представлений/task.html","id":"Создание простых представлений-0-0.4244250079205727"},{"name":"Работа с запросами и ответами","href":"Основы Django/Работа с представлениями на основе функций/Работа с запросами и ответами/task.html","id":"Работа с запросами и ответами-1-0.6401871838844015"},{"name":"Вызов ошибки 404","href":"Основы Django/Работа с представлениями на основе функций/Вызов ошибки 404/task.html","id":"Вызов ошибки 404-2-0.9085935539872123"}],"id":"Работа с представлениями на основе функций-3-0.7189310368963384"}],"id":"Основы Django-3-0.5802968543426983"},{"name":"Регулярные выражения и маршруты","items":[{"name":"Введение в модуль","href":"Регулярные выражения и маршруты/section-intro.html","id":"Введение в модуль-0-0.7281548511872338"},{"name":"Основы регулярных выражений","items":[{"name":"Введение в регулярные выражения","href":"Регулярные выражения и маршруты/Основы регулярных выражений/Введение в регулярные выражения/task.html","id":"Введение в регулярные выражения-0-0.3484371813434499"},{"name":"Скобочные групп","href":"Регулярные выражения и маршруты/Основы регулярных выражений/Скобочные групп/task.html","id":"Скобочные групп-1-0.15330202992827258"},{"name":"Квантификаторы и флаги","href":"Регулярные выражения и маршруты/Основы регулярных выражений/Квантификаторы и флаги/task.html","id":"Квантификаторы и флаги-2-0.9520155851397798"}],"id":"Основы регулярных выражений-1-0.5882149914661152"},{"name":"Регулярные выражения в Python","items":[{"name":"Модуль re для работы с регулярными выражениями","href":"Регулярные выражения и маршруты/Регулярные выражения в Python/Модуль re для работы с регулярными выражениями/task.html","id":"Модуль re для работы с регулярными выражениями-0-0.9667776990524031"},{"name":"Разбитие и замена текста","href":"Регулярные выражения и маршруты/Регулярные выражения в Python/Разбитие и замена текста/task.html","id":"Разбитие и замена текста-1-0.6278709939030043"}],"id":"Регулярные выражения в Python-2-0.4064557873360861"},{"name":"Маршруты в Django","items":[{"name":"Наименование URL маршрутов","href":"Регулярные выражения и маршруты/Маршруты в Django/Наименование URL маршрутов/task.html","id":"Наименование URL маршрутов-0-0.5958789360178638"},{"name":"Конверторы маршрутов","href":"Регулярные выражения и маршруты/Маршруты в Django/Конверторы маршрутов/task.html","id":"Конверторы маршрутов-1-0.930867414213802"},{"name":"Использование query параметров","href":"Регулярные выражения и маршруты/Маршруты в Django/Использование query параметров/task.html","id":"Использование query параметров-2-0.6515240445963484"}],"id":"Маршруты в Django-3-0.8611490889089055"}],"id":"Регулярные выражения и маршруты-4-0.14515500003541026"},{"name":"Декораторы и настройка авторизации","items":[{"name":"Введение в модуль","href":"Декораторы и настройка авторизации/section-intro.html","id":"Введение в модуль-0-0.12434999240638533"},{"name":"Декораторы в Python","items":[{"name":"Передача функций как аргументов","href":"Декораторы и настройка авторизации/Декораторы в Python/Передача функций как аргументов/task.html","id":"Передача функций как аргументов-0-0.7734803376683375"},{"name":"args и kwargs в Python","href":"Декораторы и настройка авторизации/Декораторы в Python/args и kwargs в Python/task.html","id":"args и kwargs в Python-1-0.41686296310257"},{"name":"Декораторы","href":"Декораторы и настройка авторизации/Декораторы в Python/Декораторы/task.html","id":"Декораторы-2-0.9062024705526539"}],"id":"Декораторы в Python-1-0.8095481945819174"},{"name":"Регистрация и авторизация пользователей","items":[{"name":"Безопасность веб-приложений","href":"Декораторы и настройка авторизации/Регистрация и авторизация пользователей/Безопасность веб-приложений/task.html","id":"Безопасность веб-приложений-0-0.3627325080290853"},{"name":"Административная панель Django","href":"Декораторы и настройка авторизации/Регистрация и авторизация пользователей/Административная панель Django/task.html","id":"Административная панель Django-1-0.7686203121647444"},{"name":"Декоратор login_required","href":"Декораторы и настройка авторизации/Регистрация и авторизация пользователей/Декоратор login_required/task.html","id":"Декоратор login_required-2-0.8264203423318714"}],"id":"Регистрация и авторизация пользователей-2-0.31270152372365345"}],"id":"Декораторы и настройка авторизации-5-0.912062567123961"}],"base":"django-basic-course"},"meta":{"metadata":[],"style":[],"script":[]},"assets":[],"headings":[{"title":"Декорирование функций в Python","href":"#dekorirovanie-funkcij-v-python","level":2},{"title":"Декоратор замеряющий время работы функции","href":"#dekorator-zameryayushij-vremya-raboty-funkcii","level":2}],"title":"","includes":[],"html":"<h2 id=\"dekorirovanie-funkcij-v-python\"><a href=\"#dekorirovanie-funkcij-v-python\" class=\"yfm-anchor\" aria-hidden=\"true\"><span class=\"visually-hidden\">Декорирование функций в Python</span></a>Декорирование функций в Python</h2>\n<p>Паттерн декоратор — это структурный паттерн проектирования, который позволяет динамически добавлять объектам новую функциональность, оборачивая их в полезные \"обёртки\" (декораторы). Декораторы представляют собой гибкую и элегантную альтернативу использованию наследования для расширения функциональности.</p>\n<aside>\n💡 Паттерн программирования — это общее решение типичной проблемы в определенном контексте разработки программного обеспечения. Это шаблон или образец, который может быть применен для решения определенного класса задач или обеспечения структуры программного кода.\n</aside>\n<p>В Python декораторы часто используются для модификации поведения функций. Они представляют собой функции, которые принимают другую функцию в качестве аргумента и возвращают новую функцию с расширенной или измененной функциональностью.</p>\n\n    <div class=\"yfm-clipboard\">\n    <pre><code class=\"hljs python\"><span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">my_decorator</span>(<span class=\"hljs-params\">func</span>):\n    <span class=\"hljs-comment\"># Здесь определяется новая функция - «обертка» (англ. wrapper). Название функции не принципиально  </span>\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">wrapper</span>(<span class=\"hljs-params\">*args, **kwargs</span>):  <span class=\"hljs-comment\"># *args и **kwargs, чтобы принимать любое количество аргументов</span>\n        <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">\"Код будет выполнен до вызова функции `func`\"</span>)\n        \n        result = func(*args, **kwargs)  <span class=\"hljs-comment\"># не забываем вернуть значение исходной функции</span>\n        \n        <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">\"Код будет выполнен после вызова функции `func`\"</span>)\n        <span class=\"hljs-keyword\">return</span> result\n    <span class=\"hljs-keyword\">return</span> wrapper\n</code></pre>\n\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-button\" data-animation=\"11\">\n        <path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path>\n        <path stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\">\n            <animate id=\"visibileAnimation-11\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin></animate>\n            <animate id=\"hideAnimation-11\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-11.end+1\" fill=\"freeze\"></animate>\n        </path>\n    </svg>\n    </div>\n<p>Этот код представляет собой пример простого декоратора в Python. Давайте разберем, как он работает:</p>\n<ol>\n<li>\n<p>Определение декоратора ****<code>def my_decorator(func):</code></p>\n<p>Здесь создается функция <code>my_decorator</code>, которая <strong>всегда</strong> принимает один аргумент <code>func</code>. Этот аргумент будет функцией, которую планируется задекорировать.</p>\n</li>\n<li>\n<p><strong>Определение функции-обертки (wrapper)</strong> <code>def wrapper(*args, **kwargs):</code></p>\n<p>Внутри <code>my_decorator</code> определяется новая функция <code>wrapper</code>, которая принимает произвольное количество позиционных и именованных аргументов. Эта функция будет замещать оригинальную функцию <code>func</code>.</p>\n</li>\n<li>\n<p>Вызов оригинальной функции  ****<code>result = func(*args, **kwargs)</code></p>\n<p>Здесь выводится сообщение, указывающее, что код будет выполнен перед вызовом исходной функции. В этой строке оригинальная функция <code>func</code> вызывается с переданными ей аргументами. Результат выполнения сохраняется в переменной <code>result</code>.</p>\n<p>И теперь внутри функции <code>wrapper</code> можно добавлять новое поведение до и после оригинальной функции <code>func</code> без её непосредственного изменения кода.</p>\n</li>\n<li>\n<p>Возврат функции-обертки**.** Функция <code>my_decorator</code> возвращает функцию-обертку <code>wrapper</code>. Это позволяет использовать <code>my_decorator</code> как декоратор для других функций.</p>\n</li>\n</ol>\n<p>Пример использования декоратора:</p>\n\n    <div class=\"yfm-clipboard\">\n    <pre><code class=\"hljs python\"><span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">my_decorator</span>(<span class=\"hljs-params\">func</span>):\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">wrapper</span>(<span class=\"hljs-params\">*args, **kwargs</span>):\n        <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">\"Код будет выполнен до вызова функции `func`\"</span>)\n        result = func(*args, **kwargs)  <span class=\"hljs-comment\"># не забываем вернуть значение исходной функции</span>\n        <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">\"Код будет выполнен после вызова функции `func`\"</span>)\n        <span class=\"hljs-keyword\">return</span> result\n    <span class=\"hljs-keyword\">return</span> wrapper\n\n<span class=\"hljs-meta\">@my_decorator  </span><span class=\"hljs-comment\"># Эта запись является «синтаксическим сахаром», чтобы применить декоратор</span>\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">example_function</span>():\n    <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">\"Пример задекорированной функции\"</span>)\n\n<span class=\"hljs-comment\"># Вызов задекорированной функции</span>\nexample_function()\n\n</code></pre>\n\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-button\" data-animation=\"52\">\n        <path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path>\n        <path stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\">\n            <animate id=\"visibileAnimation-52\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin></animate>\n            <animate id=\"hideAnimation-52\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-52.end+1\" fill=\"freeze\"></animate>\n        </path>\n    </svg>\n    </div>\n\n    <div class=\"yfm-clipboard\">\n    <pre><code class=\"hljs\">Код будет выполнен до вызова функции `func`\nПример задекорированной функции\nКод будет выполнен после вызова функции `func`\n</code></pre>\n\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-button\" data-animation=\"53\">\n        <path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path>\n        <path stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\">\n            <animate id=\"visibileAnimation-53\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin></animate>\n            <animate id=\"hideAnimation-53\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-53.end+1\" fill=\"freeze\"></animate>\n        </path>\n    </svg>\n    </div>\n<p>При вызове задекорированной функции <code>example_function</code>, она будет выполняться функция-обертку <code>wrapper</code>, и код внутри <code>wrapper</code> будет выполняться до и после вызова исходной функции <code>example_function</code>. Без изменения исходного кода функции <code>example_function</code> к ней было добавлено новое поведение с помощью декоратора.</p>\n<p>В этом примере кода использована запись <code>@my_decorator</code>. Которая означает то, что к функции следует примерить декоратор. \"Синтаксический сахар\" в программировании относится к синтаксическим конструкциям или улучшениям языка программирования, которые делают код более кратким, выразительным и легким для понимания. Эти изменения не добавляют новых возможностей в язык, но упрощают его использование.</p>\n\n    <div class=\"yfm-clipboard\">\n    <pre><code class=\"hljs python\"><span class=\"hljs-comment\"># Декорирование функции с помощью «синтаксического сахара»</span>\n<span class=\"hljs-meta\">@my_decorator  </span>\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">some_func</span>(<span class=\"hljs-params\">f</span>):\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">wrapper</span>():\n        ...\n    <span class=\"hljs-keyword\">return</span> wrapper\n</code></pre>\n\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-button\" data-animation=\"60\">\n        <path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path>\n        <path stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\">\n            <animate id=\"visibileAnimation-60\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin></animate>\n            <animate id=\"hideAnimation-60\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-60.end+1\" fill=\"freeze\"></animate>\n        </path>\n    </svg>\n    </div>\n\n    <div class=\"yfm-clipboard\">\n    <pre><code class=\"hljs python\"><span class=\"hljs-comment\"># Декорирование функции без «синтаксического сахара»</span>\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">some_func</span>(<span class=\"hljs-params\">f</span>):\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">wrapper</span>():\n        ...\n    <span class=\"hljs-keyword\">return</span> wrapper\nsome_func = my_decorator(some_func)\n</code></pre>\n\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-button\" data-animation=\"61\">\n        <path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path>\n        <path stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\">\n            <animate id=\"visibileAnimation-61\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin></animate>\n            <animate id=\"hideAnimation-61\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-61.end+1\" fill=\"freeze\"></animate>\n        </path>\n    </svg>\n    </div>\n<p>Обратите внимание, что в функции <code>some_func</code> теперь будет не исходная функция, а функция <code>wrapper</code>.</p>\n<h2 id=\"dekorator-zameryayushij-vremya-raboty-funkcii\"><a href=\"#dekorator-zameryayushij-vremya-raboty-funkcii\" class=\"yfm-anchor\" aria-hidden=\"true\"><span class=\"visually-hidden\">Декоратор замеряющий время работы функции</span></a>Декоратор замеряющий время работы функции</h2>\n<p>Перед вами стоит задача заменить время работы двух функции <code>function_1</code> и <code>function_2</code>. Код без использования декораторов может выглядеть следующим образом:</p>\n\n    <div class=\"yfm-clipboard\">\n    <pre><code class=\"hljs python\"><span class=\"hljs-keyword\">import</span> time\n\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">function_1</span>(<span class=\"hljs-params\">arg1, arg2</span>):\n    <span class=\"hljs-comment\"># Некоторый код функции</span>\n    time.sleep(<span class=\"hljs-number\">2</span>)\n    <span class=\"hljs-keyword\">return</span> arg1 + arg2\n\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">function_2</span>(<span class=\"hljs-params\">arg1, arg2, arg3</span>):\n    <span class=\"hljs-comment\"># Некоторый код функции</span>\n    time.sleep(<span class=\"hljs-number\">3</span>)\n    <span class=\"hljs-keyword\">return</span> arg1 * arg2 * arg3\n\n<span class=\"hljs-comment\"># Замер времени работы function_1</span>\nstart_time = time.time()  <span class=\"hljs-comment\"># Запоминаем текущее время до вызова функции</span>\nresult_1 = function_1(<span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">4</span>)  <span class=\"hljs-comment\"># Вызываем функцию</span>\nend_time = time.time()  <span class=\"hljs-comment\"># Запоминаем текущее время после выполнения функции</span>\nelapsed_time_1 = end_time - start_time  <span class=\"hljs-comment\"># Вычисляем разницу времени</span>\n<span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">f\"Время работы function_1: <span class=\"hljs-subst\">{elapsed_time_1}</span> секунд\"</span>)  <span class=\"hljs-comment\"># Выводим результат</span>\n\n<span class=\"hljs-comment\"># Замер времени работы function_2</span>\nstart_time = time.time()  <span class=\"hljs-comment\"># Запоминаем текущее время до вызова функции</span>\nresult_2 = function_2(<span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">5</span>, <span class=\"hljs-number\">6</span>)  <span class=\"hljs-comment\"># Вызываем функцию</span>\nend_time = time.time()  <span class=\"hljs-comment\"># Запоминаем текущее время после выполнения функции</span>\nelapsed_time_2 = end_time - start_time  <span class=\"hljs-comment\"># Вычисляем разницу времени</span>\n<span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">f\"Время работы function_2: <span class=\"hljs-subst\">{elapsed_time_2}</span> секунд\"</span>)  <span class=\"hljs-comment\"># Выводим результат</span>\n\n</code></pre>\n\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-button\" data-animation=\"71\">\n        <path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path>\n        <path stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\">\n            <animate id=\"visibileAnimation-71\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin></animate>\n            <animate id=\"hideAnimation-71\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-71.end+1\" fill=\"freeze\"></animate>\n        </path>\n    </svg>\n    </div>\n<p>В данном случае, для каждой функции приходится повторять один и тот же код для замера времени, что нарушает принцип DRY (Don't Repeat Yourself).</p>\n<p>Декоратор позволяет избежать дублирования кода и сделать измерение времени более удобным:</p>\n\n    <div class=\"yfm-clipboard\">\n    <pre><code class=\"hljs python\"><span class=\"hljs-keyword\">import</span> time\n\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">timing_decorator</span>(<span class=\"hljs-params\">func</span>):\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">wrapper</span>(<span class=\"hljs-params\">*args, **kwargs</span>):  <span class=\"hljs-comment\"># Так как заранее не известно с какими аргументами будет декорироваться функция используем *args, **kwargs</span>\n        start_time = time.time()  <span class=\"hljs-comment\"># Запоминаем текущее время перед вызовом функции</span>\n        result = func(*args, **kwargs)  <span class=\"hljs-comment\"># Вызываем оригинальную функцию</span>\n        end_time = time.time()  <span class=\"hljs-comment\"># Запоминаем текущее время после выполнения функции</span>\n        elapsed_time = end_time - start_time  <span class=\"hljs-comment\"># Вычисляем разницу времени</span>\n        <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">f\"Время работы <span class=\"hljs-subst\">{func.__name__}</span>: <span class=\"hljs-subst\">{elapsed_time}</span> секунд\"</span>)  <span class=\"hljs-comment\"># func.__name__ позволяет получить имя функции</span>\n        <span class=\"hljs-keyword\">return</span> result  <span class=\"hljs-comment\"># Возвращаем результат выполнения оригинальной функции</span>\n    <span class=\"hljs-keyword\">return</span> wrapper  <span class=\"hljs-comment\"># Возвращаем функцию-обертку</span>\n\n<span class=\"hljs-meta\">@timing_decorator</span>\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">function_1</span>(<span class=\"hljs-params\">arg1, arg2</span>):\n    <span class=\"hljs-comment\"># Некоторый код функции</span>\n    time.sleep(<span class=\"hljs-number\">2</span>)\n    <span class=\"hljs-keyword\">return</span> arg1 + arg2\n\n<span class=\"hljs-meta\">@timing_decorator</span>\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">function_2</span>(<span class=\"hljs-params\">arg1, arg2, arg3</span>):\n    <span class=\"hljs-comment\"># Некоторый код функции</span>\n    time.sleep(<span class=\"hljs-number\">3</span>)\n    <span class=\"hljs-keyword\">return</span> arg1 * arg2 * arg3\n\n<span class=\"hljs-comment\"># Вызов функций с декоратором</span>\nresult_1 = function_1(<span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">4</span>)\nresult_2 = function_2(<span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">5</span>, <span class=\"hljs-number\">6</span>)\n\n</code></pre>\n\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-button\" data-animation=\"78\">\n        <path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path>\n        <path stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\">\n            <animate id=\"visibileAnimation-78\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin></animate>\n            <animate id=\"hideAnimation-78\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-78.end+1\" fill=\"freeze\"></animate>\n        </path>\n    </svg>\n    </div>\n<p>Теперь логика замера времени содержится в декораторе <code>timing_decorator</code>, и его можно легко применить к любой функции, следуя принципу DRY.</p>\n"},"router":{"pathname":"Декораторы и настройка авторизации/Декораторы в Python/Декораторы/task.html"},"lang":"ru","langs":["ru"]};
                </script>
                <script type="application/javascript" src="../_bundle/react.js"></script>
<script type="application/javascript" src="../_bundle/app.js"></script>
<script type="application/javascript" src="../_bundle/vendor.js"></script>
            </body>
        </html>
    