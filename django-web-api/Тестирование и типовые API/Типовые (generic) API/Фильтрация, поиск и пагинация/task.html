
        <!DOCTYPE html>
        <html lang="ru" dir="ltr">
            <head>
                <meta charset="utf-8">
                <base href="../../../" />
                
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>Фильтрация, поиск и пагинация | Разработка REST API с помощью Django REST Framework</title>
                <style type="text/css">
                    body {
                        height: 100vh;
                    }
                </style>
                <link type="text/css" rel="stylesheet" href="../_bundle/vendor.css" />
<link type="text/css" rel="stylesheet" href="../_bundle/app.css" />
                
                
            </head>
            <body class="g-root g-root_theme_light">
                <div id="root"></div>
                <script type="application/javascript">
                   window.STATIC_CONTENT = false
                   window.__DATA__ = {"data":{"leading":false,"toc":{"title":"Разработка REST API с помощью Django REST Framework","href":"index.html","navigation":{"logo":{"url":"/","text":"IDE EDU"}},"items":[{"name":"Введение в курс","href":"course.html","id":"Введение в курс-0-0.38510956936599583"},{"name":"Основы ORM в Django","expanded":true,"items":[{"name":"Введение в модуль","href":"Основы ORM в Django/section.html","id":"Введение в модуль-0-0.6438544085414406"},{"name":"ORM модели","items":[{"name":"Введение в модели Django","href":"Основы ORM в Django/ORM модели/Введение в модели Django/task.html","id":"Введение в модели Django-0-0.6631404438832993"},{"name":"Работа с миграциями данных","href":"Основы ORM в Django/ORM модели/Работа с миграциями данных/task.html","id":"Работа с миграциями данных-1-0.2837466694001136"},{"name":"Хорошие практики по работе с миграциями","href":"Основы ORM в Django/ORM модели/Хорошие практики по работе с миграциями/task.html","id":"Хорошие практики по работе с миграциями-2-0.8593595300890338"},{"name":"Основные типы полей и их особенности","href":"Основы ORM в Django/ORM модели/Основные типы полей и их особенности/task.html","id":"Основные типы полей и их особенности-3-0.7205746374870512"},{"name":"Добавление данных через фикстуры","href":"Основы ORM в Django/ORM модели/Добавление данных через фикстуры/task.html","id":"Добавление данных через фикстуры-4-0.45572889928735005"}],"id":"ORM модели-1-0.8770689743386566"},{"name":"CRUD операции","items":[{"name":"Чтение данных","href":"Основы ORM в Django/CRUD операции/Чтение данных/task.html","id":"Чтение данных-0-0.3879053218126338"},{"name":"Создание и обновление объектов","href":"Основы ORM в Django/CRUD операции/Создание и обновление объектов/task.html","id":"Создание и обновление объектов-1-0.46434550044107215"},{"name":"Удаление объектов","href":"Основы ORM в Django/CRUD операции/Удаление объектов/task.html","id":"Удаление объектов-2-0.5576825865261446"}],"id":"CRUD операции-2-0.9043687152746183"},{"name":"Работа с админкой","items":[{"name":"Основы работы с админкой","href":"Основы ORM в Django/Работа с админкой/Основы работы с админкой/task.html","id":"Основы работы с админкой-0-0.8081128853283537"},{"name":"Настройка отображения экземпляров моделей в админ панели","href":"Основы ORM в Django/Работа с админкой/Настройка отображения экземпляров моделей в админ панели/task.html","id":"Настройка отображения экземпляров моделей в админ панели-1-0.5107124757962038"},{"name":"Основы работы с админкой","href":"Основы ORM в Django/Работа с админкой/Дополнительные настройки админки/task.html","id":"Основы работы с админкой-2-0.16837923567198598"}],"id":"Работа с админкой-3-0.46030347926230575"}],"id":"Основы ORM в Django-1-0.7509914987313056"},{"name":"Расширенные возможности ORM в Django","items":[{"name":"Введение в модуль","href":"Расширенные возможности ORM в Django/section.html","id":"Введение в модуль-0-0.5129918060116676"},{"name":"Отладка запросов","items":[{"name":"Установка и настройка Debug Toolbar","href":"Расширенные возможности ORM в Django/Отладка запросов/Установка и настройка Debug Toolbar/task.html","id":"Установка и настройка Debug Toolbar-0-0.31751693854142093"},{"name":"Практические примеры использования debugsqlshell","href":"Расширенные возможности ORM в Django/Отладка запросов/Практические примеры использования debugsqlshell/task.html","id":"Практические примеры использования debugsqlshell-1-0.08946105551341632"}],"id":"Отладка запросов-1-0.6199029940038012"},{"name":"Отношения между моделями","items":[{"name":"Отношение многие к одному","href":"Расширенные возможности ORM в Django/Отношения между моделями/Отношение многие к одному/task.html","id":"Отношение многие к одному-0-0.782657213484043"},{"name":"Отношение один ко многим","href":"Расширенные возможности ORM в Django/Отношения между моделями/Отношение один ко многим/task.html","id":"Отношение один ко многим-1-0.21520327482212176"},{"name":"Отношение многие ко многим","href":"Расширенные возможности ORM в Django/Отношения между моделями/Отношение многие ко многим/task.html","id":"Отношение многие ко многим-2-0.7108025898867392"}],"id":"Отношения между моделями-2-0.2868295109642407"},{"name":"Фильтрация и запросы с помощью Q-объектов","items":[{"name":"Фильтрация по полям модели и связанным моделям","href":"Расширенные возможности ORM в Django/Фильтрация и запросы с помощью Q-объектов/Фильтрация по полям модели и связанным моделям/task.html","id":"Фильтрация по полям модели и связанным моделям-0-0.9506277375561536"},{"name":"Использование Q-объектов для сложных запросов","href":"Расширенные возможности ORM в Django/Фильтрация и запросы с помощью Q-объектов/Использование Q-объектов для сложных запросов/task.html","id":"Использование Q-объектов для сложных запросов-1-0.8002625156466083"},{"name":"Группировка данных и агрегация","href":"Расширенные возможности ORM в Django/Фильтрация и запросы с помощью Q-объектов/Группировка данных и агрегация/task.html","id":"Группировка данных и агрегация-2-0.8980163160707497"}],"id":"Фильтрация и запросы с помощью Q-объектов-3-0.5557343184931336"},{"name":"Оптимизация запросов","items":[{"name":"Подводные камни при работе с ORM запросами","href":"Расширенные возможности ORM в Django/Оптимизация запросов/Подводные камни при работе с ORM запросами/task.html","id":"Подводные камни при работе с ORM запросами-0-0.13216472088240083"},{"name":"Выбор полей запроса","href":"Расширенные возможности ORM в Django/Оптимизация запросов/Выбор полей запроса/task.html","id":"Выбор полей запроса-1-0.7261432995238499"},{"name":"Массовое создание и обновление","href":"Расширенные возможности ORM в Django/Оптимизация запросов/Массовое создание и обновление/task.html","id":"Массовое создание и обновление-2-0.555894574024645"}],"id":"Оптимизация запросов-4-0.9940104751697862"}],"id":"Расширенные возможности ORM в Django-2-0.46363005992012085"},{"name":"Основы разработки REST API","items":[{"name":"Введение в модуль","href":"Основы разработки REST API/section.html","id":"Введение в модуль-0-0.6961968529707014"},{"name":"Введение в REST API","items":[{"name":"Введение в RESTful API","href":"Основы разработки REST API/Введение в REST API/Введение в RESTful API/task.html","id":"Введение в RESTful API-0-0.41228534055916155"},{"name":"Endpoint и CRUD операции в REST API","href":"Основы разработки REST API/Введение в REST API/Endpoint и CRUD операции в REST API/task.html","id":"Endpoint и CRUD операции в REST API-1-0.06627915398522455"},{"name":"Введение в Django REST Framework","href":"Основы разработки REST API/Введение в REST API/Введение в Django REST Framework/task.html","id":"Введение в Django REST Framework-2-0.9759621027128"}],"id":"Введение в REST API-1-0.07532276923060888"},{"name":"Сериализаторы в Django REST Framework","items":[{"name":"Сериализаторы в DRF","href":"Основы разработки REST API/Сериализаторы в Django REST Framework/Сериализаторы в DRF/task.html","id":"Сериализаторы в DRF-0-0.02733432492841703"},{"name":"Модельные и вложенные сериализаторы","href":"Основы разработки REST API/Сериализаторы в Django REST Framework/Модельные и вложенные сериализаторы/task.html","id":"Модельные и вложенные сериализаторы-1-0.15957878157063643"}],"id":"Сериализаторы в Django REST Framework-2-0.8622468103672736"},{"name":"APIView в Django REST Framework","items":[{"name":"Применение статусных кодов в REST API","href":"Основы разработки REST API/APIView в Django REST Framework/Применение статусных кодов в REST API/task.html","id":"Применение статусных кодов в REST API-0-0.39584020312868495"},{"name":"Список объектов и добавление новых объектов","href":"Основы разработки REST API/APIView в Django REST Framework/Список объектов и добавление новых объектов/task.html","id":"Список объектов и добавление новых объектов-1-0.3005265003894797"},{"name":"Детальная работа с объектом","href":"Основы разработки REST API/APIView в Django REST Framework/Детальная работа с объектом/task.html","id":"Детальная работа с объектом-2-0.6377098015407319"}],"id":"APIView в Django REST Framework-3-0.6801560381040705"}],"id":"Основы разработки REST API-3-0.05471273928096676"},{"name":"Тестирование и типовые API","items":[{"name":"Введение в модуль","href":"Тестирование и типовые API/section.html","id":"Введение в модуль-0-0.9981389120980764"},{"name":"Введение в тестирование","items":[{"name":"Test-Driven Development (TDD)","href":"Тестирование и типовые API/Введение в тестирование/Test-Driven Development (TDD)/task.html","id":"Test-Driven Development (TDD)-0-0.93046322423106"},{"name":"Написание, выполнение и завершение тестов","href":"Тестирование и типовые API/Введение в тестирование/Написание, выполнение и завершение тестов/task.html","id":"Написание, выполнение и завершение тестов-1-0.285545915445808"}],"id":"Введение в тестирование-1-0.5473850746197455"},{"name":"Тестирование в Django","items":[{"name":"Тестирование в Django","href":"Тестирование и типовые API/Тестирование в Django/Тестирование в Django/task.html","id":"Тестирование в Django-0-0.1470728528467864"}],"id":"Тестирование в Django-2-0.711610290009588"},{"name":"Типовые (generic) API","items":[{"name":"GenericAPIView","href":"Тестирование и типовые API/Типовые (generic) API/GenericAPIView/task.html","id":"GenericAPIView-0-0.1808677031412338"},{"name":"OpenAPI документация","href":"Тестирование и типовые API/Типовые (generic) API/OpenAPI документация/task.html","id":"OpenAPI документация-1-0.971982234725371"},{"name":"Фильтрация, поиск и пагинация","href":"Тестирование и типовые API/Типовые (generic) API/Фильтрация, поиск и пагинация/task.html","id":"Фильтрация, поиск и пагинация-2-0.3623918939180655"}],"id":"Типовые (generic) API-3-0.40245573084793107"}],"id":"Тестирование и типовые API-4-0.5814722685221578"}],"base":"django-web-api","deepBase":1},"meta":{"metadata":[],"style":[],"script":[]},"assets":[],"headings":[{"title":"Цель урока","href":"Тестирование%20и%20типовые%20API/Типовые%20(generic)%20API/Фильтрация,%20поиск%20и%20пагинация/task.html#cel-uroka","level":2},{"title":"Введение в фильтрацию и поиск в DRF","href":"Тестирование%20и%20типовые%20API/Типовые%20(generic)%20API/Фильтрация,%20поиск%20и%20пагинация/task.html#vvedenie-v-filtraciyu-i-poisk-v-drf","level":2,"items":[{"title":"Основы django-filter","href":"Тестирование%20и%20типовые%20API/Типовые%20(generic)%20API/Фильтрация,%20поиск%20и%20пагинация/task.html#osnovy-django-filter","level":3},{"title":"Настройка фильтрации в DRF","href":"Тестирование%20и%20типовые%20API/Типовые%20(generic)%20API/Фильтрация,%20поиск%20и%20пагинация/task.html#nastrojka-filtracii-v-drf","level":3}]},{"title":"Реализация поиска в DRF","href":"Тестирование%20и%20типовые%20API/Типовые%20(generic)%20API/Фильтрация,%20поиск%20и%20пагинация/task.html#realizaciya-poiska-v-drf","level":2,"items":[{"title":"Использование SearchFilter","href":"Тестирование%20и%20типовые%20API/Типовые%20(generic)%20API/Фильтрация,%20поиск%20и%20пагинация/task.html#ispolzovanie-searchfilter","level":3},{"title":"Настройка поиска","href":"Тестирование%20и%20типовые%20API/Типовые%20(generic)%20API/Фильтрация,%20поиск%20и%20пагинация/task.html#nastrojka-poiska","level":3},{"title":"Преимущества поиска в DRF","href":"Тестирование%20и%20типовые%20API/Типовые%20(generic)%20API/Фильтрация,%20поиск%20и%20пагинация/task.html#preimushestva-poiska-v-drf","level":3}]},{"title":"Настройка пагинации в DRF","href":"Тестирование%20и%20типовые%20API/Типовые%20(generic)%20API/Фильтрация,%20поиск%20и%20пагинация/task.html#nastrojka-paginacii-v-drf","level":2,"items":[{"title":"Пример настройки пагинации в settings.py:","href":"Тестирование%20и%20типовые%20API/Типовые%20(generic)%20API/Фильтрация,%20поиск%20и%20пагинация/task.html#primer-nastrojki-paginacii-v","level":3}]}],"title":"Фильтрация, поиск и пагинация","includes":[],"html":"<h2 id=\"cel-uroka\"><a href=\"Тестирование%20и%20типовые%20API/Типовые%20(generic)%20API/Фильтрация,%20поиск%20и%20пагинация/task.html#cel-uroka\" class=\"yfm-anchor\" aria-hidden=\"true\"><span class=\"visually-hidden\">Цель урока</span></a>Цель урока</h2>\n<p>После прохождения данного урока вы научитесь применять фильтрацию, поиск и пагинацию в REST API на платформе Django, используя возможности Django REST Framework (DRF) и django-filter. Вы сможете эффективно управлять большим объемом данных, предоставляя конечным пользователям удобные инструменты для выборки и навигации.</p>\n<h2 id=\"vvedenie-v-filtraciyu-i-poisk-v-drf\"><a href=\"Тестирование%20и%20типовые%20API/Типовые%20(generic)%20API/Фильтрация,%20поиск%20и%20пагинация/task.html#vvedenie-v-filtraciyu-i-poisk-v-drf\" class=\"yfm-anchor\" aria-hidden=\"true\"><span class=\"visually-hidden\">Введение в фильтрацию и поиск в DRF</span></a>Введение в фильтрацию и поиск в DRF</h2>\n<h3 id=\"osnovy-django-filter\"><a href=\"Тестирование%20и%20типовые%20API/Типовые%20(generic)%20API/Фильтрация,%20поиск%20и%20пагинация/task.html#osnovy-django-filter\" class=\"yfm-anchor\" aria-hidden=\"true\"><span class=\"visually-hidden\">Основы django-filter</span></a>Основы django-filter</h3>\n<p>Фильтрация данных — неотъемлемая часть любого API, предоставляющего доступ к большим объемам данных. В Django REST Framework (DRF) для упрощения и унификации процесса фильтрации часто используется <code>django-filter</code>. Этот инструмент позволяет легко настраивать сложные фильтры для моделей Django, тем самым предоставляя конечным пользователям гибкие инструменты для выборки данных.</p>\n<p>Чтобы начать работу с <code>django-filter</code>, вам необходимо:</p>\n<ol>\n<li>Установить пакет, если он еще не установлен: <code>pip install django-filter</code>.</li>\n<li>Добавить <code>'django_filters'</code> в <code>INSTALLED_APPS</code> в настройках вашего проекта Django.</li>\n</ol>\n<h3 id=\"nastrojka-filtracii-v-drf\"><a href=\"Тестирование%20и%20типовые%20API/Типовые%20(generic)%20API/Фильтрация,%20поиск%20и%20пагинация/task.html#nastrojka-filtracii-v-drf\" class=\"yfm-anchor\" aria-hidden=\"true\"><span class=\"visually-hidden\">Настройка фильтрации в DRF</span></a>Настройка фильтрации в DRF</h3>\n<p>DRF предлагает несколько способов интеграции фильтрации в ваш API, включая использование классов <code>GenericAPIView</code>. Для активации фильтрации в этих классах необходимо указать класс фильтрации.</p>\n<p>Пример создания и применения фильтров может выглядеть следующим образом:</p>\n\n    <div class=\"yfm-clipboard\">\n    <pre><code class=\"hljs python\"><span class=\"hljs-keyword\">from</span> django_filters <span class=\"hljs-keyword\">import</span> rest_framework <span class=\"hljs-keyword\">as</span> filters\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">BookListCreateAPIView</span>(generic.ListCreateAPIView):\n    queryset = Book.objects.<span class=\"hljs-built_in\">all</span>()\n    serializer_class = BookSerializer\n    filter_backends = (filters.DjangoFilterBackend,)\n    filterset_fields = (<span class=\"hljs-string\">'year'</span>, <span class=\"hljs-string\">'book_type'</span>)\n</code></pre>\n\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-button\" data-animation=\"39\">\n        <path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path>\n        <path stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\">\n            <animate id=\"visibileAnimation-39\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin></animate>\n            <animate id=\"hideAnimation-39\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-39.end+1\" fill=\"freeze\"></animate>\n        </path>\n    </svg>\n    </div>\n<p>Атрибут <code>filter_backends</code> в DRF используется для указания классов, которые будут обрабатывать фильтрацию запросов к API. Это позволяет определить, какие механизмы фильтрации будут применяться к запросам. В примере выше использован <code>DjangoFilterBackend</code> из <code>django-filter</code>, который обеспечивает интеграцию с Django моделями и позволяет легко настраивать фильтры на основе полей моделей.</p>\n<p>Атрибут <code>filterset_fields</code> используется в связке с <code>DjangoFilterBackend</code> для определения списка полей модели, по которым можно выполнять фильтрацию. Это означает, что конечные пользователи могут использовать query параметры в своих запросах, соответствующие указанным полям, для фильтрации данных. Например, если вы указали <code>filterset_fields = ('year', 'book_type')</code>, пользователи смогут отправлять запросы, фильтруя книги по году и/или типу книги.</p>\n<h2 id=\"realizaciya-poiska-v-drf\"><a href=\"Тестирование%20и%20типовые%20API/Типовые%20(generic)%20API/Фильтрация,%20поиск%20и%20пагинация/task.html#realizaciya-poiska-v-drf\" class=\"yfm-anchor\" aria-hidden=\"true\"><span class=\"visually-hidden\">Реализация поиска в DRF</span></a>Реализация поиска в DRF</h2>\n<p>DRF предоставляет встроенные инструменты для добавления возможностей поиска в ваше API. Поиск может быть реализован через query параметры в запросах к API, что позволяет пользователям фильтровать результаты по определенным критериям.</p>\n<h3 id=\"ispolzovanie-searchfilter\"><a href=\"Тестирование%20и%20типовые%20API/Типовые%20(generic)%20API/Фильтрация,%20поиск%20и%20пагинация/task.html#ispolzovanie-searchfilter\" class=\"yfm-anchor\" aria-hidden=\"true\"><span class=\"visually-hidden\">Использование SearchFilter</span></a>Использование SearchFilter</h3>\n<p>Один из способов добавления функционала поиска - использование <code>SearchFilter</code>. Этот фильтр можно добавить в список <code>filter_backends</code> вашего API view. <code>SearchFilter</code> позволяет осуществлять поиск по заданным полям модели, используя query параметр <code>search</code> в URL запроса.</p>\n\n    <div class=\"yfm-clipboard\">\n    <pre><code class=\"hljs python\"><span class=\"hljs-keyword\">from</span> django_filters <span class=\"hljs-keyword\">import</span> rest_framework <span class=\"hljs-keyword\">as</span> filters\n<span class=\"hljs-keyword\">from</span> rest_framework.filters <span class=\"hljs-keyword\">import</span> SearchFilter\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">BookListCreateAPIView</span>(generic.ListCreateAPIView):\n    queryset = Book.objects.<span class=\"hljs-built_in\">all</span>()\n    serializer_class = BookSerializer\n    filter_backends = (filters.DjangoFilterBackend, SearchFilter,)\n    filterset_fields = (<span class=\"hljs-string\">'year'</span>, <span class=\"hljs-string\">'book_type'</span>)\n    search_fields = [<span class=\"hljs-string\">'title'</span>, <span class=\"hljs-string\">'description'</span>]\n</code></pre>\n\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-button\" data-animation=\"58\">\n        <path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path>\n        <path stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\">\n            <animate id=\"visibileAnimation-58\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin></animate>\n            <animate id=\"hideAnimation-58\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-58.end+1\" fill=\"freeze\"></animate>\n        </path>\n    </svg>\n    </div>\n<p>В примере выше, поиск будет производиться по полям <code>title</code> и <code>description</code> модели Book. Пользователи могут отправлять запросы типа <code>/books/?search=запрос</code>, где <code>запрос</code> - это текст, по которому будет производиться поиск по указанным полям.</p>\n<h3 id=\"nastrojka-poiska\"><a href=\"Тестирование%20и%20типовые%20API/Типовые%20(generic)%20API/Фильтрация,%20поиск%20и%20пагинация/task.html#nastrojka-poiska\" class=\"yfm-anchor\" aria-hidden=\"true\"><span class=\"visually-hidden\">Настройка поиска</span></a>Настройка поиска</h3>\n<p>Помимо базовой настройки, DRF позволяет детально настраивать поведение поиска, например, изменяя способ сравнения строк (чувствительный или нечувствительный к регистру), или разрешая поиск по частичному совпадению. Эти настройки могут быть указаны непосредственно в классе представления или в настройках проекта.</p>\n<h3 id=\"preimushestva-poiska-v-drf\"><a href=\"Тестирование%20и%20типовые%20API/Типовые%20(generic)%20API/Фильтрация,%20поиск%20и%20пагинация/task.html#preimushestva-poiska-v-drf\" class=\"yfm-anchor\" aria-hidden=\"true\"><span class=\"visually-hidden\">Преимущества поиска в DRF</span></a>Преимущества поиска в DRF</h3>\n<p>Использование встроенных средств DRF для поиска предоставляет ряд преимуществ, включая простоту реализации, гибкость настройки и возможность легко расширять функциональность поиска с помощью наследования и модификации стандартных классов и методов.</p>\n<p>Реализация поиска в вашем API с помощью DRF делает интерфейс более удобным и доступным для конечных пользователей, позволяя им эффективно работать с большими объемами данных.</p>\n<h2 id=\"nastrojka-paginacii-v-drf\"><a href=\"Тестирование%20и%20типовые%20API/Типовые%20(generic)%20API/Фильтрация,%20поиск%20и%20пагинация/task.html#nastrojka-paginacii-v-drf\" class=\"yfm-anchor\" aria-hidden=\"true\"><span class=\"visually-hidden\">Настройка пагинации в DRF</span></a>Настройка пагинации в DRF</h2>\n<p>DRF предлагает несколько встроенных классов пагинации, которые можно использовать для добавления пагинации к вашему API. Вы можете выбрать один из них в зависимости от нужд вашего приложения и настроить его в настройках DRF вашего проекта (<code>settings.py</code>) или непосредственно в классах представлений.</p>\n<p>Пагинация помогает управлять большими объемами данных, облегчая их восприятие и анализ. Она предотвращает отправку слишком больших объемов данных за один запрос, что может увеличить производительность и снизить нагрузку как на сервер, так и на клиент.</p>\n<p><strong>Виды пагинации в DRF</strong></p>\n<p>DRF предлагает несколько вариантов пагинации, включая:</p>\n<ul>\n<li><code>PageNumberPagination</code> – пагинация по номеру страницы;</li>\n<li><code>LimitOffsetPagination</code> – пагинация с ограничением и смещением;</li>\n<li><code>CursorPagination</code> – курсорная пагинация для предотвращения проблем с повторением или пропуском элементов при изменении данных.</li>\n</ul>\n<p>Выбор подходящего варианта пагинации зависит от конкретных требований вашего API и предпочтений пользователей.</p>\n<h3 id=\"primer-nastrojki-paginacii-v\"><a href=\"Тестирование%20и%20типовые%20API/Типовые%20(generic)%20API/Фильтрация,%20поиск%20и%20пагинация/task.html#primer-nastrojki-paginacii-v\" class=\"yfm-anchor\" aria-hidden=\"true\"><span class=\"visually-hidden\">Пример настройки пагинации в :</span></a>Пример настройки пагинации в <code>settings.py</code>:</h3>\n\n    <div class=\"yfm-clipboard\">\n    <pre><code class=\"hljs python\">REST_FRAMEWORK = {\n    <span class=\"hljs-string\">'DEFAULT_PAGINATION_CLASS'</span>: <span class=\"hljs-string\">'rest_framework.pagination.PageNumberPagination'</span>,\n    <span class=\"hljs-string\">'PAGE_SIZE'</span>: <span class=\"hljs-number\">10</span>\n}\n</code></pre>\n\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-button\" data-animation=\"115\">\n        <path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path>\n        <path stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\">\n            <animate id=\"visibileAnimation-115\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin></animate>\n            <animate id=\"hideAnimation-115\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-115.end+1\" fill=\"freeze\"></animate>\n        </path>\n    </svg>\n    </div>\n<p>В этом примере использован класс <code>PageNumberPagination</code>, который добавляет пагинацию по номеру страницы к ответам API, с размером страницы равным 10 объектам.</p>\n<p>Для демонстрации примера запроса с пагинацией по умолчанию предположим, что у нас есть API для списка книг, и мы хотим получить книги, разбитые на страницы. Если вы используете <strong><code>PageNumberPagination</code></strong> в Django REST Framework, запрос для получения определённой страницы с размером страницы по умолчанию выглядит следующим образом:</p>\n\n    <div class=\"yfm-clipboard\">\n    <pre><code class=\"hljs bash\">GET /api/books/?page=2\n</code></pre>\n\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-button\" data-animation=\"122\">\n        <path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path>\n        <path stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\">\n            <animate id=\"visibileAnimation-122\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin></animate>\n            <animate id=\"hideAnimation-122\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-122.end+1\" fill=\"freeze\"></animate>\n        </path>\n    </svg>\n    </div>\n<p>Этот запрос вернёт вторую страницу списка книг согласно размеру страницы, указанному в настройках пагинации DRF вашего проекта (<strong><code>PAGE_SIZE</code></strong>). В ответе вы получите JSON, содержащий данные книг на второй странице, а также информацию о пагинации, включая общее количество страниц, текущую страницу и ссылки на следующую и предыдущую страницы, если они доступны.</p>\n"},"router":{"pathname":"Тестирование и типовые API/Типовые (generic) API/Фильтрация, поиск и пагинация/task.html"},"lang":"ru","langs":["ru"]};
                </script>
                <script type="application/javascript" src="../_bundle/react.js"></script>
<script type="application/javascript" src="../_bundle/app.js"></script>
<script type="application/javascript" src="../_bundle/vendor.js"></script>
            </body>
        </html>
    